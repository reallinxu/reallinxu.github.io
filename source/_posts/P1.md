---
title: " 微信小程序初探"
tags:
  - 微信，小程序
id: 66
categories:
  - WeChat小程序
date: 2017-12-26 11:34:51
---

前言：冬至项目组聚会，喝酒时玩助兴游戏猜数字，架构师提出做一个小程序，所以准备做一个简单的小程序。

花了一天时间边学习边摸索，初步实现功能的小程序1.0已开发完成，此处对学习中的坑和细节点进行记录。

[小程序代码github地址](https://github.com/reallinxu/NumBomb.git)

笔记：

1. 微信小程序主要有四种文件：.js；.json；.wxss；.wxml，具体作用google即可。

2. js文件中page中方法data为初始化数据，可以在wxml文件中通过{{demo}}来获取，也可在js定义的方法中通过setData进行修改。

3. 传值，可以通过在wxml中使用data-id传值，在方法中使用如下可以获取date-id的值。

    var numjson = e.currentTarget.dataset.id;
 
4. 将获取的json转换为json对象，通过下面方法可以实现。  

    var numjson = {"num1": "1", "num2": "2"};  
    var numobj = JSON.parse(numjson);  
    console.log(numobj.num1);  
    console.log(numobj.num2);  

5. 页面跳转，js中使用下面方法进行跳转，此方法会销毁原page。  

    wx.redirectTo({  
     url: '../boom/boom'  
    })  

  当页面在tabbar时，用此方法不会跳转，应使用  

    wx.switchTab({  
     url: '../index/index'  
    })   

同时，跳转的页面都必须确保在app.json中page里已配置。