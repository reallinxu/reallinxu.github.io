<!DOCTYPE html>
<html lang="zh-CN">


<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>
     redis入门		 | Reallinxu&#39;s Blog
  </title>
  <meta name="description" content="">
  
  <meta name="keywords" content="
  
  ">
  
  <meta name="author" content="Reallinxu">

  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp">

  <link rel="icon" type="image/x-icon" href="">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet"
        href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  

  

  <script src="//cdnjs.cloudflare.com/ajax/libs/vue/1.0.25-csp/vue.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
</head>

<body id="replica-app">

<nav class="navbar-wrapper">
  <div class="navbar">
    <div class="container clearfix">
      <a href="/" class="navbar-logo"><i class="fa fa-github"></i></a>

      <div class="navbar-search float-left desktop-only">
        <div class="navbar-search-form">
          <label for="gsc-i-id1">This website</label>
          <div id="google-search">
            <gcse:search></gcse:search>
          </div>
        </div>
      </div>

      <ul class="navbar-nav float-left">
        
        <li><a href="/archives">Archives</a></li>
        
        
        <li><a href="/categories">Categories</a></li>
        
        
        <li><a href="/tags">Tags</a></li>
        
        
        <li class="desktop-only"><a href="/atom.xml" target="_blank">RSS</a></li>
        
      </ul>

      <ul class="navbar-nav user-nav float-right desktop-only">
        <li class="user-nav-notification">
          <a><span class="user-nav-unread"></span><i class="fa fa-bell"></i></a>
        </li>
        <li>
          <a><i class="fa fa-plus"></i> <i class="fa fa-caret-down"></i></a>
        </li>
        <li class="user-nav-logo">
          <a><img src="https://i.imgur.com/4OxnYkO.jpg"> <i class="fa fa-caret-down"></i></i></a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="main-container">
  <header class="header-wrapper desktop-only">
  <div class="container header-site-detail">
    <ul class="header-toolbar">
      <li class="clearfix">
        <a href="/archives" class="header-toolbar-left"><i
                  class="fa fa-file-text"></i> Posts </a>
        <a href="/archives"
           class="header-toolbar-right"> 22 </a>
      </li>
      <li>
        <a href="/tags" class="header-toolbar-left"><i
                  class="fa fa-tags"></i> Tags </a>
        <a href="/tags"
           class="header-toolbar-right"> 6 </a>
      </li>
      <li>
        <a href="/categories" class="header-toolbar-left"><i
                  class="fa fa-folder-open"></i> Categories </a>
        <a href="/categories"
           class="header-toolbar-right"> 13 </a>
      </li>
    </ul>
    <h2 class="header-title">
      <i class="fa fa-book text-muted"></i>
      <a href="/">Reallinxu&#39;s Blog</a>
      
      
    </h2>
  </div>

  <div class="container">
    <div class="header-tab-wrapper clearfix">
      <span class="header-tab header-tab-selected"><i class="fa fa-thumbs-o-up"></i> Like</span>
      <span class="header-tab"><i class="fa fa-share-alt"></i> Share</span>
      <span class="header-tab"><i class="fa fa-comments-o"></i> Discussion</span>
      <span class="header-tab"><i class="fa fa-bookmark-o"></i> Bookmark </span>
      <span class="header-tab"><i class="fa fa-smile-o"></i> Smile <i class="fa fa-caret-down"></i></span>
    </div>
  </div>
</header>


<div class="post-container container">
  <h3>
    <i class="fa fa-user-o"></i>
    Reallinxu

    <span class="post-date float-right" title="{{moment(1516791213000).format('MMM DD, YYYY, h:mm:ss A')}}">
      <i class="fa fa-pencil-square-o"></i>
      {{moment(1516791213000).fromNow()}}
    </span>
  </h3>

  <article class="post-content">
    <h1> redis入门		</h1>
    <h1 id="安装redis"><a href="#安装redis" class="headerlink" title="安装redis"></a>安装redis</h1><pre><code>[root@linxu ~]# wget http://download.redis.io/releases/redis-4.0.6.tar.gz
[root@linxu ~]# tar xzf redis-4.0.6.tar.gz 
[root@linxu ~]# mkdir /usr/local/redis
[root@linxu ~]# mv redis-4.0.6 /usr/local/redis
[root@linxu ~]# cd /usr/local/redis/redis-4.0.6  
[root@linxu redis-4.0.6]# make
[root@linxu redis]# cd src
[root@linxu src]# ./redis-server  #运行 
[root@linxu src]# ./redis-server redis.conf  #使用指定配置文件运行
</code></pre><h1 id="测试redis"><a href="#测试redis" class="headerlink" title="测试redis"></a>测试redis</h1><pre><code>第一个窗口:
[root@linxu ~]# cd /usr/local/redis/redis-4.0.6/src
[root@linxu src]# ./redis-server redis.conf  #使用指定配置文件运行
第二个窗口:
[root@linxu ~]# cd /usr/local/redis/redis-4.0.6/src
[root@linxu src]# ./redis-cli
127.0.0.1:6379&gt;set test hahaah  
OK
127.0.0.1:6379&gt;get test
&quot;hahaah&quot;
</code></pre><h1 id="利用jedis测试java连接redis"><a href="#利用jedis测试java连接redis" class="headerlink" title="利用jedis测试java连接redis"></a>利用jedis测试java连接redis</h1><pre><code>//pom.xml中添加
&lt;dependency&gt;
    &lt;groupId&gt;redis.clients&lt;groupId&gt;
    &lt;artifactId&gt;jedis&lt;artifactId&gt;
    &lt;version&amp;gt;2.9.0&lt;version&gt;
&lt;dependency&gt;
</code></pre><p>测试代码：<br>    package com.redis.demo;</p>
<pre><code>import redis.clients.jedis.Jedis;

public class TestRedis {
    public static void main(String[] args) {
        //连接本地的 Redis 服务
        Jedis jedis = new Jedis(&quot;192.168.43.163&quot;,6379);
        System.out.println(&quot;连接成功&quot;);
        //查看服务是否运行
        System.out.println(&quot;服务正在运行: &quot;+jedis.ping());
    }
}
</code></pre><p>运行时报异常：  </p>
<pre><code>Exception in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: DENIED Redis is running in protected mode because protected mode is enabled, no bind address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the loopback interface. If you want to connect from external computers to Redis you may adopt one of the following solutions: 1) Just disable protected mode sending the command &apos;CONFIG SET protected-mode no&apos; from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent. 2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to &apos;no&apos;, and then restarting the server. 3) If you started the server manually just for testing, restart it with the &apos;--protected-mode no&apos; option. 4) Setup a bind address or an authentication password. NOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside.
</code></pre><p>此时需要修改配置文件redis.conf，修改如下<br>    1.注释掉bind</p>
<pre><code>#bind 127.0.0.1
2.protected-mode yes
改为
protected-mode no
重新启动redis即可
</code></pre>
  </article>
</div>


    




</div>

<div class="footer-wrapper container">
  <footer class="footer clearfix">
    <div class="clearfix">
    <a href="http://www.reallinxu.com" class="footer-logo">
      <i class="fa fa-github"></i>
    </a>
    <ul class="footer-social-link">
      <li>© 2018 Reallinxu</li>
      <li><a href="http://www.reallinxu.com">Home</a></li>
      
      <li><a href="https://github.com/reallinxu">Github</a></li>
      
      <li><a href="https://www.weibo.com/2918130145/profile?topnav=1&amp;wvr=6">Weibo</a></li>
      
    </ul>
    <div class="footer-theme-info">
      Theme <a href="//github.com/sabrinaluo/hexo-theme-replica">Replica</a>
      by <a href="//github.com/sabrinaluo">Hiitea</a> ❤ Powered by Hexo
    </div>
    </div>
    
  </footer>
</div>




<script src="/js/main.js"></script>

</body>
</html>
